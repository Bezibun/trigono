<!DOCTYPE html>
<html lang="id" class="transition-colors duration-500">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Modul Trigonometri</title>
  <link rel="icon" type="image/png" href="source/foto/logo.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
  <script> tailwind.config = { darkMode: 'class' } </script>
  <style>
    html {
      transition: background-color 0.4s ease, color 0.4s ease;
    }
    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .animate-fadeInUp { animation: fadeInUp 0.8s ease forwards; }
  </style>
</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen transition-colors duration-500">

  <!-- Navbar -->
  <nav class="fixed top-6 left-1/2 -translate-x-1/2 bg-white dark:bg-gray-800 text-black dark:text-white px-6 py-3 rounded-full shadow-lg flex items-center justify-between w-[90%] md:w-[70%] lg:w-[60%] z-50 transition-all duration-300">
    
    <div class="flex items-center space-x-2">
      <div class="bg-white dark:bg-gray-700 p-2 rounded-full shadow-md flex items-center justify-center">
        <img src="source/foto/logo.png" alt="Logo" class="w-8 h-8 object-contain">
      </div>
    </div>

    <ul class="hidden md:flex space-x-8 text-sm font-medium">
      <li><a href="index.html" class="text-blue-600 dark:text-blue-400 font-semibold border-b-2 border-blue-600 dark:border-blue-400 pb-1 transition">Beranda</a></li>
      <li><a href="materi.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition">Materi</a></li>
      <li><a href="latihan.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition">Latihan</a></li>
      <li><a href="games.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition">Games</a></li>
      <li><a href="informasi.html" class="hover:text-blue-600 dark:hover:text-blue-400 transition">Informasi</a></li>
    </ul>

    <div class="flex items-center space-x-3">
      <!-- Dark Mode -->
      <button id="theme-toggle" class="p-2 rounded-full bg-blue-700 dark:bg-gray-600 text-white focus:outline-none transition">
        <svg id="sun-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M12 3v1m0 16v1m8.66-8.66h-1M4.34 12H3m15.07 6.07l-.7-.7M6.34 6.34l-.7-.7m12.02 0l-.7.7M6.34 17.66l-.7.7M12 8a4 4 0 100 8 4 4 0 000-8z" />
        </svg>
        <svg id="moon-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M21 12.79A9 9 0 1111.21 3a7 7 0 009.79 9.79z" />
        </svg>
      </button>

      <!-- Profil -->
      <div class="relative">
        <button id="profileBtn" class="flex items-center focus:outline-none">
          <img id="navProfilePic" src="https://cdn-icons-png.flaticon.com/512/149/149071.png"
            class="w-9 h-9 rounded-full border-2 border-blue-600 object-cover">
        </button>

        <div id="profileDropdown" class="hidden absolute right-0 mt-3 w-56 bg-white dark:bg-gray-800 rounded-xl shadow-lg p-3">
          <div class="flex flex-col items-center">
            <div class="relative">
              <img id="profilePic" src="https://cdn-icons-png.flaticon.com/512/149/149071.png"
                class="w-16 h-16 rounded-full border-2 border-blue-500 object-cover">
              <label for="fileInput" class="absolute bottom-1 right-1 bg-blue-600 text-white p-1 rounded-full cursor-pointer">
                <i class="bx bx-edit-alt text-sm"></i>
              </label>
              <input id="fileInput" type="file" accept="image/*" class="hidden">
            </div>
            <div class="text-center">
              <h3 id="usernameDisplay" class="font-semibold p-2 text-gray-900 dark:text-white"></h3>
              <button id="logoutBtn" class="bg-blue-600 px-3 py-1 mt-2 rounded-md text-white flex items-center gap-1 justify-center">
                <i class="fa-solid fa-right-from-bracket"></i> Logout
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Mobile Menu Button -->
    <button id="menu-btn" class="md:hidden flex items-center focus:outline-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-black dark:text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
      </svg>
    </button>
  </nav>

  <!-- Mobile Dropdown -->
  <div id="mobile-menu" class="hidden absolute top-20 left-0 right-0 bg-white dark:bg-gray-800 rounded-2xl shadow-lg flex flex-col items-center py-4 space-y-4 md:hidden opacity-0 translate-y-[-10px] transition-all duration-500 ease-out">
    <a href="index.html" class="hover:text-blue-700 dark:hover:text-blue-400">Beranda</a>
    <a href="materi.html" class="hover:text-blue-700 dark:hover:text-blue-400">Materi</a>
    <a href="latihan.html" class="hover:text-blue-700 dark:hover:text-blue-400">Latihan</a>
    <a href="games.html" class="hover:text-blue-700 dark:hover:text-blue-400">Games</a>
    <a href="informasi.html" class="hover:text-blue-700 dark:hover:text-blue-400">Informasi</a>
  </div>

  <!-- Hero -->
  <section class="relative flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-white to-blue-50 dark:from-gray-900 dark:to-gray-800 overflow-hidden transition-colors duration-500">
    <div class="absolute inset-0">
      <div class="absolute w-72 h-72 bg-blue-200 dark:bg-blue-900 rounded-full blur-3xl opacity-30 -top-20 -left-20 animate-pulse"></div>
      <div class="absolute w-96 h-96 bg-blue-300 dark:bg-blue-950 rounded-full blur-3xl opacity-30 bottom-0 right-0 animate-pulse"></div>
    </div>

    <div class="relative text-center px-6 mt-20 animate-fadeInUp">
      <h1 class="text-4xl md:text-6xl font-bold text-blue-800 dark:text-blue-400 mb-4">
        Selamat Datang<br>
        <span class="text-blue-600 dark:text-blue-300">E-Modul Trigonometri</span>
      </h1>
      <p class="text-gray-700 dark:text-gray-300 max-w-2xl mx-auto text-lg md:text-xl mb-8">
        Practice makes perfect. Be patient. Success in learning is a marathon, not a sprint.
      </p>
      <a href="storytelling.html"
        class="bg-blue-600 dark:bg-blue-500 text-white px-6 py-3 rounded-full text-lg font-semibold hover:bg-blue-700 dark:hover:bg-blue-400 transition duration-300">
        Mulai Belajar
      </a>
    </div>
  </section>

  <!-- ðŸ”¥ Firebase & Logic -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

  // === ðŸ”¥ KONFIGURASI FIREBASE ===
  const firebaseConfig = {
    apiKey: "AIzaSyCeJMh6W7I3yVDQqEJQzw8CegsD8NYEVU4",
    authDomain: "modul-trigono.firebaseapp.com",
    projectId: "modul-trigono",
    storageBucket: "modul-trigono.appspot.com",
    messagingSenderId: "980014540419",
    appId: "1:980014540419:web:86285499e9fe06c823ddb6",
    measurementId: "G-NWLCNBXEQ6"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  // === ðŸ‘¤ CEK LOGIN & AMBIL USERNAME ===
  onAuthStateChanged(auth, async (user) => {
    const usernameDisplay = document.getElementById("usernameDisplay");

    if (!user) {
      // jika belum login
      setTimeout(() => window.location.href = "login.html", 500);
      return;
    }

    // Ambil username dari cache lokal (biar tampil cepat)
    const cachedUsername = localStorage.getItem("username");
    if (cachedUsername && usernameDisplay) {
      usernameDisplay.textContent = cachedUsername;
    }

    try {
      const userDoc = await getDoc(doc(db, "users", user.uid));
      if (userDoc.exists()) {
        const username = userDoc.data().username || user.email;
        usernameDisplay.textContent = username;
        localStorage.setItem("username", username);
      } else {
        usernameDisplay.textContent = user.email;
      }
    } catch (err) {
      console.error("Gagal memuat username:", err);
      usernameDisplay.textContent = user.email;
    }
  });

  // === ðŸŒ™ DARK MODE ===
  const themeToggle = document.getElementById("theme-toggle");
  const sunIcon = document.getElementById("sun-icon");
  const moonIcon = document.getElementById("moon-icon");

  const setTheme = (dark) => {
    document.documentElement.classList.toggle("dark", dark);
    localStorage.setItem("theme", dark ? "dark" : "light");
    sunIcon?.classList.toggle("hidden", !dark);
    moonIcon?.classList.toggle("hidden", dark);
  };

  // Set tema awal
  const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
  const isDark = localStorage.getItem("theme") === "dark" || (!localStorage.getItem("theme") && prefersDark);
  setTheme(isDark);

  themeToggle?.addEventListener("click", () => {
    setTheme(!document.documentElement.classList.contains("dark"));
  });

  // === ðŸ“± MOBILE MENU ===
  const menuBtn = document.getElementById("menu-btn");
  const mobileMenu = document.getElementById("mobile-menu");
  menuBtn?.addEventListener("click", () => {
    mobileMenu.classList.toggle("hidden");
    setTimeout(() => {
      mobileMenu.classList.toggle("opacity-0");
      mobileMenu.classList.toggle("translate-y-[-10px]");
    }, 10);
  });

  // === ðŸ‘¤ PROFIL & LOGOUT ===
  const profileBtn = document.getElementById("profileBtn");
  const dropdown = document.getElementById("profileDropdown");
  const fileInput = document.getElementById("fileInput");
  const profilePic = document.getElementById("profilePic");
  const navProfilePic = document.getElementById("navProfilePic");
  const logoutBtn = document.getElementById("logoutBtn");

  profileBtn?.addEventListener("click", () => dropdown?.classList.toggle("hidden"));

  // Gambar profil
  const savedPic = localStorage.getItem("profilePic");
  if (savedPic) {
    profilePic.src = savedPic;
    navProfilePic.src = savedPic;
  }

  fileInput?.addEventListener("change", (e) => {
    const file = e.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = () => {
      profilePic.src = reader.result;
      navProfilePic.src = reader.result;
      localStorage.setItem("profilePic", reader.result);
    };
    reader.readAsDataURL(file);
  });

  // Tombol Logout
  logoutBtn?.addEventListener("click", async () => {
    await signOut(auth);
    localStorage.clear();
    window.location.replace("login.html");
  });
</script>













<!-- Section Fitur Pembelajaran -->
<section class="relative flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-blue-50 to-white dark:from-gray-900 dark:to-gray-800 py-20 px-6 sm:px-10 lg:px-16 transition-colors duration-500">
  
  <!-- Judul -->
  <div class="text-center mb-12">
    <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-blue-900 dark:text-white mb-4 transition-colors duration-500">
      Fitur Pembelajaran
    </h1>
    <p class="text-gray-600 dark:text-gray-300 text-base sm:text-lg max-w-2xl mx-auto leading-relaxed transition-colors duration-500">
      Fitur-fitur utama yang membuat proses belajar lebih interaktif dan menyenangkan.
    </p>
  </div>

  <!-- Grid Fitur -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl w-full">
    
    <!-- Fitur 1: Video Penjelasan -->
    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg dark:shadow-gray-900/40 p-8 text-center border border-blue-100 dark:border-gray-700 hover:-translate-y-2 hover:shadow-xl transition-all duration-500 animate-fadeInUp">
      <i class='bx bx-play-circle text-5xl text-blue-700 dark:text-white mb-4'></i>
      <h3 class="text-xl font-semibold text-blue-900 dark:text-blue-400 transition-colors duration-500">
        Video Penjelasan
      </h3>
    </div>

    <!-- Fitur 2: Rangkuman Materi -->
    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg dark:shadow-gray-900/40 p-8 text-center border border-blue-100 dark:border-gray-700 hover:-translate-y-2 hover:shadow-xl transition-all duration-500 animate-fadeInUp delay-100">
      <i class='bx bx-book-open text-5xl text-blue-700 dark:text-white mb-4'></i>
      <h3 class="text-xl font-semibold text-blue-900 dark:text-blue-400 transition-colors duration-500">
        Rangkuman Materi
      </h3>
    </div>

    <!-- Fitur 3: Quiz & Games -->
    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg dark:shadow-gray-900/40 p-8 text-center border border-blue-100 dark:border-gray-700 hover:-translate-y-2 hover:shadow-xl transition-all duration-500 animate-fadeInUp delay-200">
      <i class='bx bx-game text-5xl text-blue-600 dark:text-white mb-4'></i>
      <h3 class="text-xl font-semibold text-blue-900 dark:text-blue-400 transition-colors duration-500">
        Quiz & Games
      </h3>
    </div>

    <!-- Fitur 4: Akses Fleksibel -->
    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg dark:shadow-gray-900/40 p-8 text-center border border-blue-100 dark:border-gray-700 hover:-translate-y-2 hover:shadow-xl transition-all duration-500 animate-fadeInUp delay-300">
      <i class='bx bx-devices text-5xl text-blue-700 dark:text-white mb-4'></i>
      <h3 class="text-xl font-semibold text-blue-900 dark:text-blue-400 transition-colors duration-500">
        Akses Fleksibel
      </h3>
    </div>

  </div>
</section>

<!-- Animasi -->
<style>
@keyframes fadeInUp {
  0% { opacity: 0; transform: translateY(20px); }
  100% { opacity: 1; transform: translateY(0); }
}
.animate-fadeInUp {
  animation: fadeInUp 0.8s ease forwards;
}
</style>


<!-- Footer -->
<footer class="bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 py-12 transition-colors duration-500">
  <div class="max-w-6xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between gap-6">
    
    <!-- Brand -->
    <div class="text-center md:text-left">
      <h2 class="text-2xl font-bold text-blue-700 dark:text-blue-400">E-Modul Matematika</h2>
      <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">
        Belajar matematika lebih interaktif, mudah, dan menyenangkan.
      </p>
    </div>

    <!-- Navigasi -->
    <nav class="flex flex-wrap justify-center gap-6 text-sm">
      <a href="informasi.html" class="text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition">Informasi</a>
      <a href="privasi.html" class="text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition">Kebijakan Privasi</a>
      <a href= "https://wa.me/6281234567890" class="text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition">Kontak</a>
    </nav>

    <!-- Sosial Media -->
    <div class="flex space-x-4">
      <a href="https://www.tiktok.com/@ozanptr?_t=ZS-90s9yNGlsjX&_r=1" class="text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 transition text-xl">
        <i class='bx bxl-tiktok'></i>
      </a>
      <a href="https://www.instagram.com/ozanptr_?igsh=MWpramtwd2docWZucg==" class="text-gray-500 hover:text-pink-500 dark:hover:text-pink-400 transition text-xl">
        <i class='bx bxl-instagram'></i>
      </a>
      <a href="https://youtube.com/@ozanptr?si=4TMu4ME_GfitJoZ" class="text-gray-500 hover:text-red-500 dark:hover:text-red-400 transition text-xl">
        <i class='bx bxl-youtube'></i>
      </a>
    </div>
  </div>

  <!-- Garis pembatas -->
  <div class="border-t border-gray-200 dark:border-gray-700 mt-8"></div>

  <!-- Copyright -->
  <div class="text-center text-sm text-gray-500 dark:text-gray-400 mt-6">
    Â© 2025 <span class="font-semibold text-blue-600 dark:text-blue-400">E-ModulMTK</span>. Dibuat oleh <span class="font-semibold">Fauzan Putra</span>.
  </div>
</footer>







</body>
</html>